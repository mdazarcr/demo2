{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Haneep CR/Downloads/vscode/demo2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Haneep CR/Downloads/vscode/demo2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/Haneep CR/Downloads/vscode/demo2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{Link}from\"react-router-dom\";import $ from'jquery';import DataTable from'datatables.net';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Home=function Home(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),users=_useState2[0],setUser=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),id=_useState4[0],setId=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isModalVisible=_useState6[0],setIsModalVisible=_useState6[1];useEffect(function(){loadUsers();},[]);var loadUsers=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"http://localhost:3004/users\");case 2:result=_context.sent;setUser(result.data);if(!$.fn.DataTable.isDataTable('#myTable')){$('#myTable').DataTable({\"pageLength\":5});}case 5:case\"end\":return _context.stop();}}},_callee);}));return function loadUsers(){return _ref.apply(this,arguments);};}();// const showModal = (id) => {\n//     setId(id)\n//     setIsModalVisible(true);\n// };\n// const handleOk = () => {\n//     deleteUser(id)\n//     setIsModalVisible(false);\n// };\n// const handleCancel = () => {\n//     setIsModalVisible(false);\n// };\nvar deleteUser=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.delete(\"http://localhost:3004/users/\".concat(id));case 2:if(!$.fn.DataTable.isDataTable('#myTable')){$('#myTable').DataTable({\"pageLength\":5});}loadUsers();case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function deleteUser(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"py-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"mb-9\",children:\"Users Information Table\"}),/*#__PURE__*/_jsxs(\"table\",{id:\"myTable\",class:\"table border shadow\",children:[/*#__PURE__*/_jsx(\"thead\",{class:\"thead-dark\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"City\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{id:\"myTbody\",children:users.map(function(user,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"row\",children:index+1}),/*#__PURE__*/_jsx(\"td\",{style:{textAlign:\"center\"},className:\"textAlign\",children:user.firstName}),/*#__PURE__*/_jsx(\"td\",{style:{textAlign:\"center\"},className:\"textAlign\",children:user.lastName}),/*#__PURE__*/_jsx(\"td\",{style:{textAlign:\"center\"},className:\"textAlign\",children:user.email}),/*#__PURE__*/_jsx(\"td\",{style:{textAlign:\"center\"},className:\"textAlign\",children:user.city}),/*#__PURE__*/_jsxs(\"td\",{style:{textAlign:\"center\"},className:\"textAlign\",children:[/*#__PURE__*/_jsx(Link,{class:\"btn btn-primary mr-2\",to:\"/users/\".concat(user.id),children:\"View\"}),/*#__PURE__*/_jsx(Link,{class:\"btn btn-outline-primary mr-2\",to:\"/users/edit/\".concat(user.id),children:\"Edit\"}),/*#__PURE__*/_jsx(Link,{class:\"btn btn-danger\",onClick:function onClick(){return deleteUser(user.id);},children:\"Delete\"})]})]});})})]})]})})});};export default Home;","map":{"version":3,"sources":["C:/Users/Haneep CR/Downloads/vscode/demo2/src/components/pages/Home.js"],"names":["React","useState","useEffect","axios","Link","$","DataTable","Home","users","setUser","id","setId","isModalVisible","setIsModalVisible","loadUsers","get","result","data","fn","isDataTable","deleteUser","delete","map","user","index","textAlign","firstName","lastName","email","city"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\nimport $ from 'jquery';\r\nimport DataTable from 'datatables.net';\r\n\r\n\r\n\r\n\r\nconst Home = () => {\r\n    const [users, setUser] = useState([]);\r\n    const [id, setId] = useState(\"\");\r\n    const [isModalVisible, setIsModalVisible] = useState(false);\r\n\r\n    useEffect(() => {\r\n        loadUsers();\r\n    }, []);\r\n\r\n\r\n    const loadUsers = async () => {\r\n        const result = await axios.get(\"http://localhost:3004/users\");\r\n        setUser(result.data);\r\n        if (!$.fn.DataTable.isDataTable('#myTable')) {\r\n            $('#myTable').DataTable({ \"pageLength\": 5, });\r\n        }\r\n\r\n    };\r\n\r\n\r\n\r\n    // const showModal = (id) => {\r\n    //     setId(id)\r\n    //     setIsModalVisible(true);\r\n    // };\r\n\r\n    // const handleOk = () => {\r\n    //     deleteUser(id)\r\n    //     setIsModalVisible(false);\r\n    // };\r\n\r\n    // const handleCancel = () => {\r\n    //     setIsModalVisible(false);\r\n    // };\r\n\r\n\r\n    const deleteUser = async id => {\r\n        await axios.delete(`http://localhost:3004/users/${id}`);\r\n        if (!$.fn.DataTable.isDataTable('#myTable')) {\r\n            $('#myTable').DataTable({ \"pageLength\": 5, });\r\n        }\r\n\r\n        loadUsers();\r\n    };\r\n\r\n\r\n    return (\r\n        <>\r\n            {/* { <Modal id=\"mdl\" title=\"Warning!\" visible={false} onOk={handleOk} onCancel={handleCancel}>\r\n                <p>Are you sure you want to delete this user?</p>\r\n            </Modal>} */}\r\n            <div className=\"container\">\r\n\r\n                <div className=\"py-4\">\r\n                    <h1 className=\"mb-9\">Users Information Table</h1>\r\n                    <table id=\"myTable\" class=\"table border shadow\">\r\n                        <thead class=\"thead-dark\">\r\n                            <tr>\r\n                                <th scope=\"col\">#</th>\r\n                                <th scope=\"col\">First Name</th>\r\n                                <th scope=\"col\">Last Name</th>\r\n                                <th scope=\"col\">Email</th>\r\n                                <th scope=\"col\">City</th>\r\n                                <th>Action</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody id=\"myTbody\">\r\n                            {users.map((user, index) => (\r\n                                <tr>\r\n                                    <th scope=\"row\">{index + 1}</th>\r\n                                    <td style={{ textAlign: \"center\" }} className=\"textAlign\">{user.firstName}</td>\r\n                                    <td style={{ textAlign: \"center\" }} className=\"textAlign\">{user.lastName}</td>\r\n                                    <td style={{ textAlign: \"center\" }} className=\"textAlign\">{user.email}</td>\r\n                                    <td style={{ textAlign: \"center\" }} className=\"textAlign\">{user.city}</td>\r\n\r\n                                    <td style={{ textAlign: \"center\" }} className=\"textAlign\">\r\n                                        <Link class=\"btn btn-primary mr-2\" to={`/users/${user.id}`}>\r\n                                            View\r\n                                    </Link>\r\n                                        <Link class=\"btn btn-outline-primary mr-2\"\r\n                                            to={`/users/edit/${user.id}`}  >\r\n                                            Edit\r\n                                    </Link>\r\n                                        <Link\r\n                                            class=\"btn btn-danger\"\r\n                                            onClick={() => deleteUser(user.id)} >\r\n                                            Delete\r\n                                    </Link>\r\n\r\n                                    </td>\r\n                                </tr>\r\n                            ))}\r\n                            {/* <div class=\"col-md-12 text-center\">\r\n                                <ul class=\"pagination pagination-lg pager\" id=\"myPager\"></ul>\r\n                            </div> */}\r\n                        </tbody>\r\n\r\n                    </table>\r\n\r\n                </div>\r\n\r\n            </div>\r\n\r\n        </>\r\n\r\n    );\r\n\r\n};\r\n\r\nexport default Home;"]},"metadata":{},"sourceType":"module"}